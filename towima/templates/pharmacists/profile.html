<!-- Font Awesome Icon Library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.checked {
  color: orange;
}
</style>

{% extends 'base.html' %}
{% block title %}Pharmacist Profile{% endblock %}

{% block content %}
<h2 style="padding-top: 100px;">Profile</h2>
<p>First name: {{ pharmacist.first_name }}</p>
<p>Last name: {{ pharmacist.last_name }}</p>
<p>Email: {{ pharmacist.email }}</p>
<p>Phone number: {{ pharmacist.profile.phone_number }}</p>
<p>Address: {{ pharmacist.profile.address }}</p>

<hr>

<div class="rating">
    {% if rating %}
        {% for i in "12345" %}
            {% if rating >= forloop.counter %}
                <a href="{% url 'add_rating_to_profile' pk=pharmacist.pk new_rating=forloop.counter %}"><span class="fa fa-star checked"></span></a>
            {% else %}
                <a href="{% url 'add_rating_to_profile' pk=pharmacist.pk new_rating=forloop.counter %}"><span class="fa fa-star"></span></a>
            {% endif %}
        {% endfor %}  
    {% else %}
        <strong>This pharmacist has not been rated yet. Be the first to rate them!</strong><br>
        {% for i in "12345" %}
            <a href="{% url 'add_rating_to_profile' pk=pharmacist.pk new_rating=forloop.counter %}"><span class="fa fa-star"></span></a>
        {% endfor %}  
    {% endif %}
</div>

<hr>
<a class="btn btn-default" href="{% url 'add_comment_to_profile' pk=pharmacist.pk %}">Add comment</a>

{% for comment in pharmacist.profile.comments.all %}
    <div class="comment">
        <div class="date">{{ comment.created_date }}</div>
        <strong>{{ comment.author }}</strong>
        <p>{{ comment.text|linebreaks }}</p>
    </div>
{% empty %}
    <p>No comments here yet :(</p>
{% endfor %}
{% endblock %}